<div class="mb-4 flex items-center justify-between">
  <a routerLink="/dashboard" class="text-sm text-blue-600 hover:text-blue-800">
    &larr; Back to Dashboard
  </a>
  @if (isAdmin() && news()) {
    <div class="flex gap-2">
      <button appButton variant="warning" (click)="editing.set(!editing())">
        {{ editing() ? 'Cancel' : 'Edit' }}
      </button>
      <button appButton variant="danger" (click)="onDelete()">Delete</button>
    </div>
  }
</div>

@if (loading()) {
  <p class="text-center text-gray-500">Loading...</p>
} @else if (!news()) {
  <p class="text-center text-gray-500">News not found.</p>
} @else if (editing()) {
  <app-news-form [news]="news()!" (saved)="onUpdated($event)" />
} @else {
  <article class="rounded-lg bg-white p-6 shadow-sm">
    @if (news()!.image) {
      <img
        [src]="news()!.image"
        [alt]="news()!.title"
        class="mb-6 h-64 w-full rounded-lg object-cover"
      />
    }
    <h1 class="text-3xl font-bold text-gray-900">{{ news()!.title }}</h1>
    <div class="mt-2 flex items-center gap-4 text-sm text-gray-400">
      <span>By {{ news()!.user.name }}</span>
      <span>{{ news()!.created_at | date: 'mediumDate' }}</span>
    </div>
    <div class="mt-6 whitespace-pre-line text-gray-700">{{ news()!.content }}</div>
  </article>
}
